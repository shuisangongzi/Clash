#!name=æœ¬åœ°æ¨¡å—
#!desc=æœ¬åœ°-è‡ªå®šä¹‰\nåˆ†æµ,é‡å†™,è„šæœ¬,MITM
#!category=ğŸ æœ¬åœ°æ¨¡å—

[Rule]
# é˜²æ­¢TGåŠ è½½è½¬åœˆ
IP-CIDR,95.161.76.100/31,REJECT,pre-matching,no-resolve,'notification-text="Fuck Telegram"' 

#NB åŠ©æ‰‹
DOMAIN,api-dsp.8ziben.com,REJECT
DOMAIN,sdk.zhangyuyidong.cn,REJECT
DOMAIN,open.e.kuaishou.cn,REJECT
DOMAIN,v66-ad.ndcjl.com,REJECT
DOMAIN,api-events.8ziben.com,REJECT
DOMAIN-SUFFIX,yximgs.com,REJECT
DOMAIN-SUFFIX,adkwai.com,REJECT

[Map Local]
# æ‹›å•†é“¶è¡Œå¼€å±å¹¿å‘Š
^https?:\/\/webappcfg\.paas\.cmbchina\.com\/v\d\/func\/getmarketconfig data-type=text data=" " status-code=200
# é¦–é¡µæ¨ªå¹…å¹¿å‘Š
^https?:\/\/mbmodule-openapi\.paas\.cmbchina\.com\/graphic\/v2\/module\/graphic data-type=text data="{}" status-code=200

# å”¯å“ä¼š
^https?:\/\/mapi\.appvipshop\.com\/vips-mobile\/rest\/activity\/advertisement\/get data-type=text data=" " status-code=200
# APP+å°ç¨‹åºå¼¹çª—å¹¿å‘Š
^https?:\/\/mapi\.appvipshop\.com\/vips-mobile\/rest\/layout\/productList\/eventData\/v data-type=text data=" " status-code=200
# å³ä¸‹è§’æ‚¬æµ®çª—ï¼Œéœ€æ‰‹åŠ¨å…³é—­å¹¿å‘Šä¸€æ¬¡
^https?:\/\/mapi\.appvipshop\.com\/vips-mobile\/rest\/activity\/coupon\/float_entrance\/get\?api_key data-type=text data=" " status-code=200

[URL Rewrite]
# çˆ±æ€åŠ©æ‰‹
^https?:\/\/list-app-m\.i4\.cn\/(adclickcb|getopfstadinfo)\.xhtml url reject

# è…¾è®¯å¾®äº‘
^https?:\/\/us\.l\.qq\.com\/exapp\?adposcount=\d - reject

# å”¯å“ä¼š
^https?:\/\/b\.appsimg\.com\/upload\/momin - reject
^https?:\/\/mapi\.appvipshop\.com\/vips-mobile\/rest\/iosAdInfo\/report - reject

# ä¸­å›½å¹¿ç”µ
^https?:\/\/app\.10099\.com\.cn\/contact-web\/api\/version\/getFlashScreenPage - reject

[Script]
# > å“”å“©å“”å“©ç¹ä½“CCå­—å¹•è½¬ä¸­æ–‡ç®€ä½“@ddgksf2013
bilibili_cc = type=http-response, pattern=^https?:\/\/.*\.hdslb\.com\/bfs\/subtitle\/.+\.json, script-path=https://raw.githubusercontent.com/ddgksf2013/Scripts/refs/heads/master/bilibili_cc.js, requires-body=true, max-size=-1, timeout=60

# > BiliBili_å“”å“©å“”å“©_çƒ­æœå‘ç°@ddgksf2013
bilibili_json = type=http-response, pattern=^https://app.bilibili.com/x/v2/search/square, script-path=https://raw.githubusercontent.com/ddgksf2013/Scripts/refs/heads/master/bilibili_json.js, requires-body=true, max-size=-1, timeout=60

# ï½ BiliBili_å“”å“©å“”å“©_æœç´¢å»å¹¿å‘Š@BiliUniverse
response.bundle = type=http-response, pattern=^https?:\/\/(grpc\.biliapi\.net|app\.bilibili\.com)\/bilibili\.polymer\.app\.search\.v1\.Search\/SearchAll$, script-path=https://github.com/BiliUniverse/ADBlock/releases/download/v0.6.19/response.bundle.js, requires-body=true, binary-body-mode=true, max-size=-1, timeout=60

[MITM]
hostname = %APPEND% list-app-m.i4.cn,us.l.qq.com,i0.hdslb.com,aisubtitle.hdslb.com,webappcfg.paas.cmbchina.com, mbmodule-openapi.paas.cmbchina.com,app.10099.com.cn,b.appsimg.com, mapi.appvipshop.com